{% extends 'AppBundle::layout.html.twig' %}

{% block js %}
    <script>
        $( document ).ready(function() {
            $( "form" ).submit(function( event ) {
                if ( $( "select#steward_sports" ).val() === null ) {
                    event.preventDefault();
                    $( ".validation-message" ).text( "{{ 'steward.edit.validation-message'|trans }}" ).show().fadeOut( 3000 );
                } else {
                    return;
                }
            });
        });
    </script>
{% endblock %}

{% block content %}
    <div class="page-header">
        <h1>{{ 'steward.edit.title'|trans }}</h1>
    </div>

    {% include 'AppBundle::flashes.html.twig' %}

    {{ form_errors(form) }}
    {{ form_start(form) }}
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title"><i class="fa fa-user"></i> {{ 'steward.edit.label'|trans }} - {{ steward.user.fullname }}</h3>
        </div>
        <div class="panel-body">
            <div class="hidden">{{ form_row(form.user, {attr: {readonly: 'readonly'}}) }}</div>
            {{ form_row(form.sports, {attr: {class: 'select2'}}) }}
            {{ form_rest(form) }}
        </div>
        <div class="panel-footer text-center">
            <button type="submit" class="btn btn-primary">{{ 'button.save'|trans }}</button>
            <a href="{{ url('app_steward_index') }}" class="btn btn-default">{{ 'button.cancel'|trans }}</a>
            <br>
            <span class="validation-message"></span>
        </div>
    </div>
    {{ form_end(form) }}
{% endblock %}
