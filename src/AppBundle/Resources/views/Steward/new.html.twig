{% extends 'AppBundle::layout.html.twig' %}
{% block js %}
  <script>
    $( document ).ready(function() {
      $( "form" ).submit(function( event ) {
        if ( $( "select#competition_chief_sports" ).val() === null ) {
          event.preventDefault();
          $( ".validation-message" ).text( "{{ 'steward.edit.validation-message'|trans }}" ).show().fadeOut( 3000 );
        } else {
          return;
        }
      });
    });
  </script>
{% endblock %}
{% block content %}
  <div class="page-header">
    <h1>{{ 'steward.new.title'|trans }}</h1>
  </div>

  {% include 'AppBundle::flashes.html.twig' %}

  {{ form_errors(form) }}
  {{ form_start(form) }}
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h3 class="panel-title"><i class="fa fa-envelope"></i> {{ 'steward.new.enter_details'|trans }}</h3>
    </div>
    <div class="panel-body">
      {{ form_row(form.user, {attr: {class: 'select2'}}) }}
      {{ form_row(form.sports, {attr: {class: 'select2'}}) }}
      {{ form_rest(form) }}
    </div>
    <div class="panel-footer text-center">
      <button type="submit" class="btn btn-primary">{{ 'button.save'|trans }}</button>
      <a href="{{ url('app_steward_index') }}" class="btn btn-default">{{ 'button.cancel'|trans }}</a>
      <br>
      <span class="validation-message"></span>
    </div>
  </div>
  {{ form_end(form) }}
{% endblock %}
